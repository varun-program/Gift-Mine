<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Deepika ‚Äî Happy Birthday</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
  <style>
    :root{--bg:#020613;--accent:#7bd3ff;--text:#e9faff;--safe-pad:18px}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:linear-gradient(180deg,#02030a,#05050a);display:flex;align-items:center;justify-content:center}

    /* phone frame (responsive) */
    .phone{width:100%;max-width:430px;height:100vh;max-height:932px;border-radius:36px;overflow:hidden;position:relative;box-shadow:0 40px 120px rgba(0,0,0,.8);background:#060712;margin:auto}
    .wallpaper{position:absolute;inset:0;background:#000 url('default-wallpaper.jpg') center/cover no-repeat;z-index:0}
    .wallpaper::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.28),rgba(0,0,0,.52));z-index:1}

    /* status bar + island */
    .status-bar{position:absolute;top:8px;left:0;right:0;height:28px;z-index:60;display:flex;align-items:center;justify-content:space-between;padding:0 var(--safe-pad);color:rgba(255,255,255,0.95);font-size:12px;pointer-events:none}
    .dynamic-island{position:absolute;top:6px;left:50%;transform:translateX(-50%);height:36px;min-width:140px;border-radius:18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));box-shadow:0 6px 20px rgba(0,0,0,0.5);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center;padding:6px 12px;color:var(--text);z-index:65;transition:all .28s ease;cursor:pointer}
    .island-expanded{min-width:320px;height:86px;border-radius:18px;padding:12px}

    /* lock overlay */
    .lock-overlay{position:absolute;inset:0;z-index:90;background:rgba(0,0,0,0.75);backdrop-filter:blur(20px);display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding-top:82px;gap:12px}
    .notif{width:86%;background:rgba(0,0,0,0.45);backdrop-filter:blur(14px);border-radius:14px;padding:12px;display:flex;gap:12px;align-items:center;border:1px solid rgba(255,255,255,0.08);color:#fff}
    .ios-time{font-size:64px;font-weight:300;color:#ffffff;text-shadow:0 0 12px rgba(0,0,0,0.85)}
    .ios-date{font-size:14px;color:#f5f5f5;margin-top:-8px}
    .music-widget{width:86%;background:rgba(0,0,0,0.45);backdrop-filter:blur(14px);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:8px;border:1px solid rgba(255,255,255,0.08);color:#fff}
    .unlock-hint{width:260px;padding:10px 16px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#a6cfff);color:#002;font-weight:700;text-align:center}

    /* home */
    .foreground{position:relative;z-index:10;height:100%;display:flex;flex-direction:column}
    .home-pad{padding:16px 16px 140px}
    .title-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:28px;padding:28px;justify-items:center;align-items:center}
    .icon{width:72px;height:72px;border-radius:20px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 8px 20px rgba(0,0,0,0.45);cursor:pointer}
    .icon .mi{font-size:28px;color:var(--accent)}
    .icon small{margin-top:8px;display:block;font-size:13px;font-weight:600;color:#ffffff;text-shadow:0 0 6px rgba(0,0,0,0.9);text-align:center}

    /* surprise overlay */
    .surprise-overlay{position:absolute;inset:0;z-index:220;display:flex;align-items:center;justify-content:center;pointer-events:none}
    .surprise-box{position:relative;pointer-events:auto;display:flex;flex-direction:column;align-items:center;gap:12px}
    .balloon{width:72px;height:96px;border-radius:50% 50% 45% 45%;display:inline-block;position:relative;animation:floatUp 4s ease-in infinite;box-shadow:0 10px 30px rgba(0,0,0,0.25)}
    .balloon:after{content:'';position:absolute;left:50%;bottom:-10px;width:2px;height:18px;background:rgba(0,0,0,0.25);transform:translateX(-50%)}
    .balloon.red{background:linear-gradient(180deg,#ff6b6b,#ff3b3b)}
    .balloon.blue{background:linear-gradient(180deg,#6bc1ff,#2b9bff)}
    .balloon.pink{background:linear-gradient(180deg,#ff9ad6,#ff5fb3)}
    @keyframes floatUp{0%{transform:translateY(40px) translateX(0) scale(.98);opacity:0}20%{opacity:1}100%{transform:translateY(-240px) translateX(-30px) scale(1);opacity:0}}

    /* dock */
    .dock{position:absolute;left:18px;right:18px;bottom:18px;height:86px;border-radius:28px;background:linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.02));backdrop-filter:blur(28px);display:flex;align-items:center;justify-content:center;gap:20px;padding:12px 22px;z-index:12;border:1px solid rgba(255,255,255,0.06)}

    /* screen */
    .screen{position:absolute;inset:90px 18px 140px 18px;background:transparent;display:none;z-index:120;overflow:auto;opacity:0;transform:translateY(14px) scale(.995);transition:opacity .28s ease,transform .28s ease}
    .screen.active{display:block;opacity:1;transform:translateY(0) scale(1)}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:14px;padding:12px;color:var(--text);backdrop-filter:blur(8px);box-shadow:0 12px 36px rgba(0,0,0,0.6)}

    /* controls */
    .btn{display:inline-block;padding:8px 12px;border-radius:10px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.06);color:var(--text);cursor:pointer}
    .btn-primary{background:linear-gradient(90deg,var(--accent),#7fbfff);color:#002;border:none}
    .btn-sm{padding:6px 8px;font-size:13px}
    .form-control{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(0,0,0,0.14);color:var(--text);width:100%}

    /* chat */
    .chat{display:flex;flex-direction:column;gap:12px}
    .bubble-left{align-self:flex-start;background:rgba(255,255,255,0.06);color:#e9faff;padding:12px;border-radius:18px;border-bottom-left-radius:6px;max-width:78%}
    .bubble-right{align-self:flex-end;background:linear-gradient(180deg,#007aff,#4fb3ff);color:white;padding:12px;border-radius:18px;border-bottom-right-radius:6px;max-width:78%}

    canvas.confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:200}
    @media (max-width:420px){.phone{transform:scale(.96);border-radius:28px}}
  </style>
</head>
<body>

<div class="phone" id="phone">
  <div class="wallpaper" id="wallpaper"></div>

  <div class="status-bar"><div></div><div style="opacity:.95">100% ‚Ä¢ 09:41</div></div>
  <div id="dynamicIsland" class="dynamic-island">Now Playing</div>

  <div id="lockOverlay" class="lock-overlay">
    <div style="height:6px"></div>
    <div class="notif"><span style="font-size:20px;color:var(--accent)">‚ù§</span><div><div style="font-weight:700">‚ù§Ô∏è</div><div style="font-size:12px;opacity:.9">Happy Birthday Deepika ‚Äî open me üíô</div></div></div>

    <div id="iosTime" class="ios-time">12:00</div>
    <div id="iosDate" class="ios-date">29 Nov 2007</div>

    <div class="music-widget" id="lockMusic">
      <div style="font-weight:700">Now Playing</div>
      <div style="display:flex;gap:10px;align-items:center"><div style="width:56px;height:56px;border-radius:12px;background:rgba(255,255,255,0.14)"></div><div><div id="nowTitle">Sidu Sidu</div><div style="font-size:12px;opacity:.85">Deepika Playlist</div></div></div>
      <div style="display:flex;justify-content:center;gap:20px;margin-top:8px"><button id="prevLock" class="btn">‚ùÆ</button><button id="playLock" class="btn btn-primary">‚ñ∂</button><button id="nextLock" class="btn">‚ùØ</button></div>
    </div>

    <div class="unlock-row"><div id="swipeArea" class="unlock-hint">Swipe ‚Üí to Unlock</div></div>
  </div>

  <canvas id="confettiCanvas" class="confetti"></canvas>
  <div id="surpriseOverlay" class="surprise-overlay" style="display:none;opacity:0;">
    <div class="surprise-box card">
      <div style="font-weight:700;font-size:18px; text-align:center; white-space:pre-line">‚ú® Happy Birthday Deepika ‚ú®

May your new year be full of
soft mornings, peaceful nights,
and dreams that turn real.

You shine more than you know.</div>
      <div style="display:flex;gap:12px;align-items:flex-end">
        <div class="balloon red"></div>
        <div class="balloon blue"></div>
        <div class="balloon pink"></div>
      </div>
    </div>
  </div>

  <div class="foreground">
    <div class="home-pad">
      <div class="title-bar"><div style="font-weight:700;font-size:18px">Deepika</div><div id="dateTop" style="opacity:.85">Nov 29</div></div>
      <div class="grid" id="appGrid">
        <div class="icon" data-app="messages"><span class="material-icons-outlined mi">chat_bubble</span><small>Messages</small></div>
        <div class="icon" data-app="music"><span class="material-icons-outlined mi">music_note</span><small>Music</small></div>
        <div class="icon" data-app="gallery"><span class="material-icons-outlined mi">photo</span><small>Gallery</small></div>
        <div class="icon" data-app="ai"><span class="material-icons-outlined mi">smart_toy</span><small>AI</small></div>

        <div class="icon" data-app="voice"><span class="material-icons-outlined mi">record_voice_over</span><small>Voice</small></div>
        <div class="icon" data-app="surprise"><span class="material-icons-outlined mi">card_giftcard</span><small>Surprise</small></div>
        <div class="icon" data-app="settings"><span class="material-icons-outlined mi">settings</span><small>Settings</small></div>
        <div class="icon" data-app="about"><span class="material-icons-outlined mi">info</span><small>About</small></div>
      </div>
    </div>
  </div>

  <div class="dock" id="dock"><div class="icon" data-app="music"><span class="material-icons-outlined mi">music_note</span></div><div class="icon" data-app="messages"><span class="material-icons-outlined mi">chat_bubble</span></div><div class="icon" data-app="surprise"><span class="material-icons-outlined mi">card_giftcard</span></div></div>

  <!-- Messages Screen -->
  <div id="messagesScreen" class="screen"><div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">Messages</h5><button id="closeMsg" class="btn">Close</button></div>
    <div id="chatBox" class="chat" style="min-height:240px;margin-top:12px;padding:8px"></div>
    <div style="display:flex;gap:8px;margin-top:12px"><input id="msgInput" class="form-control" placeholder="Write a message..."><button class="btn btn-primary" id="sendMsgBtn">Send</button></div>
  </div></div>

  <!-- Music Screen -->
  <div id="musicScreen" class="screen"><div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">Music</h5><button id="closeMusic" class="btn">Close</button></div>
    <audio id="localPlayer" controls style="width:100%;border-radius:10px;margin-top:12px;display:none"></audio>
    <div style="display:flex;gap:8px;margin-top:10px"><button id="surpriseBtn" class="btn btn-primary">Surprise</button><div style="flex:1"></div></div>
    <div id="playlist" style="margin-top:12px"></div>
  </div></div>

  <!-- Gallery Screen -->
  <div id="galleryScreen" class="screen"><div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">Gallery</h5><button id="closeGallery" class="btn">Close</button></div>
    <div id="galleryGrid" style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:12px"></div>
  </div></div>

  <!-- AI Screen -->
  <div id="aiScreen" class="screen"><div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">AI Assistant</h5><button id="closeAI" class="btn">Close</button></div>
    <div id="aiOut" style="min-height:100px;padding:10px;margin-top:10px;background:rgba(0,0,0,0.12);border-radius:10px">Hi Deepika! Ask me for songs, jokes, or wishes.</div>
    <div style="display:flex;gap:8px;margin-top:12px"><input id="aiInput" class="form-control" placeholder="recommend / joke / wish"><button id="aiSendBtn" class="btn btn-primary">Send</button></div>
  </div></div>

  <!-- Voice Screen -->
  <div id="voiceScreen" class="screen"><div class="card"><div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">Voice Greeting</h5><button id="closeVoice" class="btn">Close</button></div><div style="margin-top:12px"><button id="playGreetingBtn" class="btn btn-primary">Play Greeting</button></div></div></div>

  <!-- Surprise Screen -->
  <div id="surpriseScreen" class="screen"><div class="card"><div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">Surprise</h5><button id="closeSurprise" class="btn">Close</button></div><div style="margin-top:12px">A magical surprise is waiting for you inside the Music app.</div></div></div>

  <!-- Settings Screen -->
  <div id="settingsScreen" class="screen"><div class="card"><div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">Settings</h5><button id="closeSettings" class="btn">Close</button></div>
    <div style="margin-top:12px">Wallpaper URL</div>
    <div style="display:flex;gap:8px;margin-top:8px"><input id="wallUrl" class="form-control" placeholder="Paste image URL"><button id="setWallBtn" class="btn btn-primary">Set</button></div>
    <div style="margin-top:10px"><input id="wallFile" type="file" accept="image/*" class="form-control"></div>
    <div style="margin-top:10px"><div style="display:flex;gap:8px"><button class="btn" data-theme="blue">Blue</button><button class="btn" data-theme="neon">Neon</button><button class="btn" data-theme="violet">Violet</button></div></div>
  </div></div>

  <!-- About Screen -->
  <div id="aboutScreen" class="screen"><div class="card"><div style="display:flex;justify-content:space-between;align-items:center"><h5 style="margin:0">About</h5><button id="closeAbout" class="btn">Close</button></div><div style="margin-top:12px">Made with ‚ù§Ô∏è by Varun</div></div></div>

</div>

<script>
(function(){
  const $ = s => document.querySelector(s);
  const $all = s => Array.from(document.querySelectorAll(s));

  if(document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init); else init();

  function init(){
    // time
    const iosTime = $('#iosTime'), iosDate = $('#iosDate'), topDate = $('#dateTop');
    function tick(){ const t=new Date(); if(iosTime) iosTime.textContent = t.getHours().toString().padStart(2,'0')+':'+t.getMinutes().toString().padStart(2,'0'); if(iosDate) iosDate.textContent = t.toLocaleDateString('en-IN', { weekday:'long', month:'short', day:'numeric' }); if(topDate) topDate.textContent = t.toLocaleDateString('en-IN', { day:'numeric', month:'short' }); }
    tick(); setInterval(tick,1000);

    // dynamic island
    const island = $('#dynamicIsland'); let islandOpen=false;
    island && island.addEventListener('click',()=>{ islandOpen = !islandOpen; island.classList.toggle('island-expanded', islandOpen); if(islandOpen){ island.innerHTML = '<div class="island-row"><div style="width:48px;height:48px;border-radius:10px;background:rgba(255,255,255,0.08)"></div><div><div style="font-weight:700">Sidu Sidu</div><div style="font-size:12px;opacity:.85">Deepika Playlist</div></div></div>'; } else island.textContent='Now Playing'; });

    // swipe to unlock
    const swipeArea = $('#swipeArea'), lock = $('#lockOverlay');
    if(swipeArea && lock){ let startX=0,curX=0,dragging=false; swipeArea.addEventListener('touchstart',e=>{ dragging=true; startX=e.touches[0].clientX; swipeArea.style.transition='none'; }); swipeArea.addEventListener('touchmove',e=>{ if(!dragging) return; curX = e.touches[0].clientX - startX; if(curX<0) curX=0; swipeArea.style.transform = `translateX(${curX}px)`; }); swipeArea.addEventListener('touchend',()=>{ dragging=false; swipeArea.style.transition='transform .36s cubic-bezier(.22,.9,.35,1)'; if(curX>120){ lock.style.transition='transform .5s ease,opacity .5s ease'; lock.style.transform='translateY(-30px)'; lock.style.opacity='0'; setTimeout(()=>{ lock.style.display='none'; confettiBurst(); },520);} else { swipeArea.style.transform='translateX(0)'; } curX=0; }); swipeArea.addEventListener('click',()=>{ lock.style.transition='transform .5s ease,opacity .5s ease'; lock.style.transform='translateY(-30px)'; lock.style.opacity='0'; setTimeout(()=>{ lock.style.display='none'; confettiBurst(); },520); }); }

    // confetti
    function confettiBurst(){ const c = document.getElementById('confettiCanvas'); if(!c) return; c.width=c.offsetWidth; c.height=c.offsetHeight; const ctx = c.getContext('2d'); const pieces=[]; for(let i=0;i<120;i++){ pieces.push({x:c.width/2,y:120+Math.random()*40,vx:(Math.random()-0.5)*8,vy:Math.random()*-7-2,r:Math.random()*6+2,col:`hsl(${Math.random()*360},80%,60%)`}); } let t=0; function frame(){ ctx.clearRect(0,0,c.width,c.height); t++; pieces.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.25; ctx.fillStyle=p.col; ctx.beginPath(); ctx.ellipse(p.x,p.y,p.r,p.r*0.7,0,0,Math.PI*2); ctx.fill(); }); if(t<160) requestAnimationFrame(frame); else ctx.clearRect(0,0,c.width,c.height); } frame(); }

    // open/close screens
    function openAppFromIcon(iconEl, screenId){ const screenEl=document.getElementById(screenId); if(!iconEl||!screenEl) return; const rect=iconEl.getBoundingClientRect(); const phoneRect = document.getElementById('phone').getBoundingClientRect(); const clone=iconEl.cloneNode(true); clone.style.position='fixed'; clone.style.left = rect.left+'px'; clone.style.top = rect.top+'px'; clone.style.width = rect.width+'px'; clone.style.height = rect.height+'px'; clone.style.zIndex=5000; clone.style.transition='all .45s cubic-bezier(.2,.9,.2,1)'; document.body.appendChild(clone); requestAnimationFrame(()=>{ clone.style.left = (phoneRect.left+18)+'px'; clone.style.top = (phoneRect.top+90)+'px'; clone.style.width = (phoneRect.width-36)+'px'; clone.style.height = (phoneRect.height-220)+'px'; clone.style.borderRadius='14px'; setTimeout(()=>{ screenEl.classList.add('active'); clone.remove(); },420); }); }
    function closeScreen(screenId){ const screenEl=document.getElementById(screenId); if(!screenEl) return; screenEl.classList.remove('active'); }

    $all('.icon').forEach(el=>el.addEventListener('click',()=>{ const app=el.dataset.app; if(app==='messages') openAppFromIcon(el,'messagesScreen'); if(app==='music') openAppFromIcon(el,'musicScreen'); if(app==='gallery') openAppFromIcon(el,'galleryScreen'); if(app==='ai') openAppFromIcon(el,'aiScreen'); if(app==='voice') openAppFromIcon(el,'voiceScreen'); if(app==='surprise') openAppFromIcon(el,'surpriseScreen'); if(app==='settings') openAppFromIcon(el,'settingsScreen'); if(app==='about') openAppFromIcon(el,'aboutScreen'); }));

    // close buttons
    $('#closeMsg') && $('#closeMsg').addEventListener('click',()=>closeScreen('messagesScreen'));
    $('#closeMusic') && $('#closeMusic').addEventListener('click',()=>closeScreen('musicScreen'));
    $('#closeGallery') && $('#closeGallery').addEventListener('click',()=>closeScreen('galleryScreen'));
    $('#closeAI') && $('#closeAI').addEventListener('click',()=>closeScreen('aiScreen'));
    $('#closeVoice') && $('#closeVoice').addEventListener('click',()=>closeScreen('voiceScreen'));
    $('#closeSurprise') && $('#closeSurprise').addEventListener('click',()=>closeScreen('surpriseScreen'));
    $('#closeSettings') && $('#closeSettings').addEventListener('click',()=>closeScreen('settingsScreen'));
    $('#closeAbout') && $('#closeAbout').addEventListener('click',()=>closeScreen('aboutScreen'));

    // playlist UI
    const playlistEl = $('#playlist');
    let playlist = [
      {type:'local',src:'sidu.mp3',title:'Sidu Sidu'},
      {type:'local',src:'jaalakari.mp3',title:'Jaalakari'}
    ];

    function renderPlaylist(){
      if(!playlistEl) return;
      playlistEl.innerHTML = '';
      playlist.forEach((p,i)=>{
        const row = document.createElement('div');
        row.style.display='flex'; row.style.justifyContent='space-between'; row.style.alignItems='center'; row.style.padding='8px 0';
        const left = document.createElement('div'); left.textContent = p.title;
        const right = document.createElement('div');
        const play = document.createElement('button'); play.className='btn btn-primary btn-sm'; play.textContent='Play'; play.addEventListener('click',()=>playIndex(i));
        const remove = document.createElement('button'); remove.className='btn btn-sm'; remove.textContent='Remove'; remove.style.marginLeft='8px'; remove.addEventListener('click',()=>{ playlist.splice(i,1); renderPlaylist(); });
        right.appendChild(play);
        right.appendChild(remove);
        row.appendChild(left);
        row.appendChild(right);
        playlistEl.appendChild(row);
      });
    }

    function playIndex(i){
      const item = playlist[i];
      if(!item) return;
      if(item.type === 'local'){
        const audio = $('#localPlayer');
        if(audio){ audio.style.display = 'block'; audio.src = item.src; audio.play().catch(()=>{}); $('#nowTitle') && ($('#nowTitle').textContent = item.title); }
      }
    }

    // surprise handler
    function showSurprise(){ const overlay = $('#surpriseOverlay'); if(!overlay) return; overlay.style.display='flex'; overlay.style.opacity='1'; overlay.style.pointerEvents='auto'; confettiBurst(); setTimeout(()=>{ overlay.style.opacity='0'; overlay.style.pointerEvents='none'; setTimeout(()=>{ overlay.style.display='none'; },600); },5500); }
    $('#surpriseBtn') && $('#surpriseBtn').addEventListener('click',showSurprise);

    renderPlaylist();

    // auto-wish messages
    function autoWish(){ const box=$('#chatBox'); if(!box) return; box.innerHTML=''; const msgs=[
      'Hi Deepika, wishing you a very Happy Birthday! üéâüíô',
      'I hope your day is as special as you are. ‚ú®',
      'You always make everything better just by being there.',
      'Stay happy always, Deepika. üíô ‚Äî From Varun',
      'You smile like it‚Äôs your superpower‚Ä¶ and it works every time. üòä',
      'If cuteness was a person, it would definitely be you. üíô',
      'I don‚Äôt know what magic you have‚Ä¶ but it makes everything feel lighter.',
      'Just a small reminder: you‚Äôre really special to me. üí´'
    ]; let i=0; function next(){ if(i>=msgs.length) return; const t=document.createElement('div'); t.className='bubble-left'; t.textContent='Typing...'; box.appendChild(t); t.scrollIntoView({behavior:'smooth'}); setTimeout(()=>{ t.remove(); const m=document.createElement('div'); m.className='bubble-left'; m.textContent=msgs[i++]; box.appendChild(m); m.scrollIntoView({behavior:'smooth'}); setTimeout(next,900); },900); } next(); }
    $('#sendMsgBtn') && $('#sendMsgBtn').addEventListener('click',()=>{ const v=($('#msgInput').value||'').trim(); if(!v) return; const box=$('#chatBox'); const me=document.createElement('div'); me.className='bubble-right'; me.textContent=v; box.appendChild(me); $('#msgInput').value=''; me.scrollIntoView({behavior:'smooth'}); setTimeout(()=>{ const r=document.createElement('div'); r.className='bubble-left'; r.textContent='üòä That\'s sweet!'; box.appendChild(r); r.scrollIntoView({behavior:'smooth'}); },900); });

    // AI assistant
    $('#aiSendBtn') && $('#aiSendBtn').addEventListener('click',()=>{ const q=($('#aiInput').value||'').toLowerCase(); let out=''; if(q.indexOf('recommend')!==-1){ const picks=['Sidu Sidu','Jaalakari','Lo-fi Chill']; out='I recommend: '+picks[Math.floor(Math.random()*picks.length)]+'.'; } else if(q.indexOf('joke')!==-1) out='Why did the developer go broke? Because he used up all his cache. üòÑ'; else if(q.indexOf('wish')!==-1) out='Happy Birthday Deepika!'; else out='Try: recommend / joke / wish'; $('#aiOut').innerText=out; });

    // greeting voice
    $('#playGreetingBtn') && $('#playGreetingBtn').addEventListener('click',()=>{ const s=new SpeechSynthesisUtterance('Hi Deepika, Happy Birthday! Wishing you many happy returns.'); s.rate=0.95; window.speechSynthesis.speak(s); });

    // lock music
    $('#playLock') && $('#playLock').addEventListener('click',()=>playIndex(0)); $('#prevLock') && $('#prevLock').addEventListener('click',()=>playIndex(0)); $('#nextLock') && $('#nextLock').addEventListener('click',()=>playIndex(1));

    // wallpaper set
    $('#setWallBtn') && $('#setWallBtn').addEventListener('click',()=>{ const url=($('#wallUrl').value||'').trim(); if(url) $('#wallpaper').style.backgroundImage='url("'+url+'")'; });
    $('#wallFile') && $('#wallFile').addEventListener('change',(e)=>{ const f=e.target.files[0]; if(!f) return; const r=new FileReader(); r.onload=(ev)=>{ $('#wallpaper').style.backgroundImage='url("'+ev.target.result+'")'; }; r.readAsDataURL(f); });

    // dynamic island reacts when audio plays
    const audio=$('#localPlayer'); if(audio){ audio.addEventListener('play',()=>{ island && (island.textContent='Playing ‚Ä¢ '+(audio.src.split('/').pop()||'Sidu')); island && island.classList.add('island-expanded'); setTimeout(()=>island && island.classList.remove('island-expanded'),2600); }); }

    // auto wish on opening messages
    $all('.icon').forEach(el=>{ if(el.dataset.app==='messages'){ el.addEventListener('click',()=>{ setTimeout(autoWish,420); }); } });

    // fill gallery with placeholders
    const galleryGrid = $('#galleryGrid'); if(galleryGrid){ const imgs=['https://w0.peakpx.com/wallpaper/1000/1000/HD-wallpaper-mahindra-thar-offroad-suv.jpg','https://w0.peakpx.com/wallpaper/1024/1010/HD-wallpaper-black-mahindra-thar-thar.jpg']; imgs.forEach(u=>{ const d=document.createElement('div'); d.style.backgroundImage='url("'+u+'")'; d.style.backgroundSize='cover'; d.style.backgroundPosition='center'; d.style.height='120px'; d.style.borderRadius='10px'; galleryGrid.appendChild(d); }); }

    // theme buttons
    $all('[data-theme]').forEach(b=>b.addEventListener('click',()=>{ const t=b.dataset.theme; if(t==='blue') document.documentElement.style.setProperty('--accent','#7bd3ff'); else if(t==='neon') document.documentElement.style.setProperty('--accent','#00eaff'); else if(t==='violet') document.documentElement.style.setProperty('--accent','#b07dff'); }));

  }
})();
</script>
<script>
// Disable right-click
 document.addEventListener('contextmenu', e => e.preventDefault());

// Disable common inspect shortcuts
 document.onkeydown = function(e){
   if(e.keyCode === 123) return false; // F12
   if(e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 67 || e.keyCode === 74)) return false; // I, C, J
   if(e.ctrlKey && (e.keyCode === 85 || e.keyCode === 83)) return false; // U, S
 };
</script>
</body>
</html>
